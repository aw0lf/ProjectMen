{"ast":null,"code":"import _defineProperty from \"/home/adrianna/Dokumenty/job/ProjectMen/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/adrianna/Dokumenty/job/ProjectMen/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/adrianna/Dokumenty/job/ProjectMen/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/adrianna/Dokumenty/job/ProjectMen/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/adrianna/Dokumenty/job/ProjectMen/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/adrianna/Dokumenty/job/ProjectMen/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/adrianna/Dokumenty/job/ProjectMen/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/adrianna/Dokumenty/job/ProjectMen/frontend/src/components/Form.js\";\nimport React from 'react';\nimport { Form, Input, Button } from 'antd';\nimport axios from 'axios';\nimport Project from './Project';\nimport CustomeDatePicker from './DatePicker';\nimport { Link } from 'react-router-dom';\nvar TextArea = Input.TextArea;\nvar FormItem = Form.Item;\n\nvar FormLayout =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(FormLayout, _React$Component);\n\n  function FormLayout(props) {\n    var _this;\n\n    _classCallCheck(this, FormLayout);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FormLayout).call(this, props));\n\n    _this.handleFormSubmite = function (e, reqType, articleID) {\n      var _this$state = _this.state,\n          title = _this$state.title,\n          description = _this$state.description,\n          start_date = _this$state.start_date,\n          end_date = _this$state.end_date,\n          status = _this$state.status;\n      var id = _this.props.articleID;\n\n      switch (reqType) {\n        case 'post':\n          return axios.post('http://127.0.0.1:8000/api/', {\n            title: title,\n            description: description,\n            start_date: start_date,\n            end_date: end_date,\n            status: status\n          }).then(function (res) {\n            return console.log(res);\n          }).catch(function (err) {\n            return console.log(err);\n          });\n\n        case 'put':\n          return axios.put(\"http://127.0.0.1:8000/api/\".concat(id, \"/\"), {\n            title: title,\n            description: description,\n            start_date: start_date,\n            end_date: end_date,\n            status: status\n          });\n\n        default:\n          _this.state.then(function (res) {\n            return console.log(res);\n          }).catch(function (err) {\n            return console.log(err);\n          });\n\n          _this.props.history.push('/');\n\n          _this.forceUpdate();\n\n      }\n    };\n\n    _this.handlerInputChange = function (value, propName) {\n      _this.setState(_objectSpread({}, _this.state, _defineProperty({}, propName, value)));\n    };\n\n    _this.formatDate = function (date) {\n      var options = {\n        year: 'numeric',\n        month: 'numeric',\n        day: '2-digit'\n      };\n\n      var _resultDate = new Intl.DateTimeFormat('en-GB', options).format(date);\n\n      var formatedDate = _resultDate.replace(/\\//ig, '-');\n\n      return formatedDate;\n    };\n\n    _this.formatDateToPicker = function (date) {\n      var options = {\n        year: 'numeric',\n        month: 'numeric',\n        day: '2-digit'\n      };\n      console.log(options);\n      return \"2018-11-12\";\n    };\n\n    _this.handlerDateChange = function (start_date, end_date) {\n      var start = _this.formatDate(start_date);\n\n      var end = _this.formatDate(end_date);\n\n      _this.setState(_objectSpread({}, _this.state, {\n        start_date: start,\n        end_date: end\n      }));\n    };\n\n    _this.state = {\n      formVisable: true,\n      summaryVisable: false,\n      title: _this.props.edit ? _this.props.project.title : '',\n      description: _this.props.edit ? _this.props.project.description : '',\n      start_date: _this.props.edit ? _this.props.project.start_date : '2018-12-11',\n      end_date: _this.props.edit ? _this.props.project.end_date : '2018-12-12',\n      status: _this.props.edit ? _this.props.project.status : 'new'\n    };\n    return _this;\n  }\n\n  _createClass(FormLayout, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (this.props.edit == true) {\n        var id = this.props.articleID;\n        axios.get(\"http://127.0.0.1:8000/api/\".concat(id)).then(function (res) {\n          _this2.setState(_objectSpread({}, _this2.state.project, {\n            project: res.data\n          }));\n\n          console.log(res.data);\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      console.log(this.state.title);\n      console.log(typeof this.props.project.start_date);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, this.state.formVisable === true ? React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(FormItem, {\n        label: \"Form Layout\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }), React.createElement(FormItem, {\n        label: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(Input, {\n        name: \"title\",\n        value: this.state.title,\n        onChange: function onChange(e) {\n          return _this3.handlerInputChange(e.target.value, 'title');\n        },\n        placeholder: \"your title...\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      })), React.createElement(FormItem, {\n        label: \"description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(TextArea, {\n        value: this.state.description,\n        onChange: function onChange(e) {\n          return _this3.handlerInputChange(e.target.value, 'description');\n        },\n        rows: 6,\n        name: \"description\",\n        placeholder: \"some description...\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      })), React.createElement(FormItem, {\n        label: \"select date\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(CustomeDatePicker, {\n        defaultStart: this.state.start_date,\n        defaultEnd: this.state.end,\n        onChange: function onChange(start_date, end_date) {\n          return _this3.handlerDateChange(start_date, end_date);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      })), React.createElement(FormItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"submite\",\n        htmlType: \"Link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"Canel\")), React.createElement(Button, {\n        type: \"primary\",\n        onClick: function onClick() {\n          _this3.setState(_objectSpread({}, _this3.state, {\n            formVisable: false,\n            summaryVisable: true\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, \"Continue\"))) : null, this.state.summaryVisable === true ? React.createElement(Form, {\n        onSubmit: function onSubmit(e) {\n          return _this3.handleFormSubmite(e, _this3.props.reqType, _this3.props.articleID);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(Project, {\n        title: this.state.title,\n        description: this.state.description,\n        start_date: this.state.start_date,\n        end_date: this.state.end_date,\n        status: \"new\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }), React.createElement(Button, {\n        style: {\n          margin: '15px'\n        },\n        type: \"default\",\n        onClick: function onClick() {\n          return _this3.setState(_objectSpread({}, _this3.state, {\n            formVisable: true,\n            summaryVisable: false\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, \"Back\"), React.createElement(Button, {\n        style: {\n          margin: '15px'\n        },\n        type: \"primary\",\n        htmlType: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \"Create\")) : null);\n    }\n  }]);\n\n  return FormLayout;\n}(React.Component);\n\nexport default FormLayout;","map":{"version":3,"sources":["/home/adrianna/Dokumenty/job/ProjectMen/frontend/src/components/Form.js"],"names":["React","Form","Input","Button","axios","Project","CustomeDatePicker","Link","TextArea","FormItem","Item","FormLayout","props","handleFormSubmite","e","reqType","articleID","state","title","description","start_date","end_date","status","id","post","then","res","console","log","catch","err","put","history","push","forceUpdate","handlerInputChange","value","propName","setState","formatDate","date","options","year","month","day","_resultDate","Intl","DateTimeFormat","format","formatedDate","replace","formatDateToPicker","handlerDateChange","start","end","formVisable","summaryVisable","edit","project","get","data","target","margin","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Form, Input, Button } from 'antd';\nimport axios from 'axios';\nimport Project from './Project';\nimport CustomeDatePicker from './DatePicker';\nimport { Link } from 'react-router-dom';\nconst { TextArea } = Input;\n\nconst FormItem = Form.Item;\n\nclass FormLayout extends React.Component {\n\n    constructor (props) {\n        super(props);\n        this.state = {\n            formVisable: true,\n            summaryVisable: false,\n            title: this.props.edit ? this.props.project.title : '',\n            description: this.props.edit ? this.props.project.description : '',\n            start_date: this.props.edit ?  this.props.project.start_date : '2018-12-11',\n            end_date: this.props.edit ?  this.props.project.end_date : '2018-12-12',\n            status: this.props.edit ? this.props.project.status : 'new'\n        };\n    }\n    componentDidMount () {\n        if (this.props.edit == true) {\n            const id = this.props.articleID;\n            axios.get(`http://127.0.0.1:8000/api/${ id }`)\n                .then(res => {\n                    this.setState({\n                        ...this.state.project,\n                        project: res.data\n                                        });\n                    console.log(res.data);\n                });\n        }\n    }\n\nhandleFormSubmite = (e, reqType, articleID) => {\n    const { title, description, start_date, end_date, status } = this.state;\n    const id = this.props.articleID;\n\n    switch (reqType) {\n        case 'post':\n            return axios.post('http://127.0.0.1:8000/api/', {\n                title: title,\n                description: description,\n                start_date: start_date,\n                end_date: end_date,\n                status: status\n            })\n                .then(res => console.log(res))\n                .catch(err => console.log(err));\n        case 'put':\n            return axios.put(`http://127.0.0.1:8000/api/${ id }/`, {\n                title: title,\n                description: description,\n                start_date: start_date,\n                end_date: end_date,\n                status: status\n            });\n        default: this.state\n            .then(res => console.log(res))\n            .catch(err => console.log(err));\n            this.props.history.push('/');\n            this.forceUpdate();\n    }\n\n}\n\nhandlerInputChange = (value, propName) => {\n    this.setState({\n        ...this.state,\n        [propName]: value\n    });\n}\n\nformatDate = (date) => {\n    const options = { year: 'numeric', month: 'numeric', day: '2-digit' };\n    const _resultDate = new Intl.DateTimeFormat('en-GB', options).format(date);\n\n    const formatedDate = _resultDate.replace(/\\//ig, '-');\n    return formatedDate;\n}\n\nformatDateToPicker = (date) => {\n    const options = { year: 'numeric', month: 'numeric', day: '2-digit' };\n\nconsole.log(options) \n     return \"2018-11-12\";\n}\n\nhandlerDateChange = (start_date, end_date) => {\n    const start = this.formatDate(start_date);\n    const end = this.formatDate(end_date);\n    this.setState({\n        ...this.state,\n        start_date: start,\n        end_date: end\n    });\n}\nrender () {\n    console.log(this.state.title);\n    console.log(typeof this.props.project.start_date)\n    return (\n        <div>\n            {this.state.formVisable === true ?\n                <Form>\n                    <FormItem label=\"Form Layout\">\n                    </FormItem>\n                    <FormItem label=\"title\">\n                        <Input name='title' value={this.state.title} onChange={e => this.handlerInputChange(e.target.value, 'title')} placeholder=\"your title...\" />\n                    </FormItem>\n                    <FormItem label=\"description\">\n                        <TextArea value={this.state.description} onChange={e => this.handlerInputChange(e.target.value, 'description')} rows={6} name='description' placeholder=\"some description...\" />\n                    </FormItem>\n\n                    <FormItem label=\"select date\">\n                        <CustomeDatePicker defaultStart={this.state.start_date} defaultEnd={this.state.end} onChange={(start_date, end_date) => this.handlerDateChange(start_date, end_date)}/>\n                    </FormItem>\n                    <FormItem>\n                        <Link to='/'><Button type='submite' htmlType='Link'>Canel</Button>\n                        </Link>\n                        <Button type=\"primary\" onClick={() => { this.setState({ ...this.state, formVisable: false, summaryVisable: true }); }}>Continue</Button>\n                    </FormItem>\n                </Form> : null }\n\n            {this.state.summaryVisable === true ? <Form onSubmit={e => this.handleFormSubmite(\n                e,\n                this.props.reqType,\n                this.props.articleID)}>\n                <Project\n                    title={this.state.title}\n                    description={this.state.description}\n                    start_date={this.state.start_date}\n                    end_date={this.state.end_date}\n                    status='new'\n                />\n                <Button style={{ margin: '15px' }}type='default' onClick={() => this.setState({ ...this.state, formVisable: true, summaryVisable: false })}>Back</Button>\n                <Button style={{ margin: '15px' }} type=\"primary\" htmlType=\"submit\">Create</Button>\n            </Form> : null }\n        </div>\n    );\n}\n}\n\nexport default FormLayout;\n"]},"metadata":{},"sourceType":"module"}